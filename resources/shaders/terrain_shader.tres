[gd_resource type="Shader" format=2]

[resource]
code = "shader_type spatial;


uniform sampler2D red_diffuse;
uniform float red_scale = 1.0;

uniform sampler2D green_diffuse;
uniform float green_scale = 1.0;

uniform sampler2D blue_diffuse;
uniform float blue_scale = 1.0;

uniform sampler2D splatmap;


void fragment() {
	mat3 albedo; 
	vec3 value = texture(splatmap, UV).rgb;
	
	albedo[0].rgb = texture(red_diffuse, UV * vec2(red_scale)).rgb * value.r;
	albedo[1].rgb = texture(green_diffuse, UV * vec2(green_scale)).rgb * value.g;
	albedo[2].rgb = texture(blue_diffuse, UV * vec2(blue_scale)).rgb * value.b;
	
	ALBEDO = albedo[0].rgb + albedo[1].rgb + albedo[2].rgb;
}
"
